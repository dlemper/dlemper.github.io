<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Multiboot Linux USB-Stick</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/icons/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <link rel="alternate" type="application/rss+xml" href="https://www.dlemper.de/rss.xml" title=" RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://www.dlemper.de/feed.atom" title=" Atom Feed">
    <link rel="alternate" type="application/json" href="https://www.dlemper.de/feed.json" title=" JSON Feed">
    <meta name="description" content="">
    <meta description="Create your own USB pendrive with multiple operating systems (linux distributions) on it.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.d40c99b9.css" as="style"><link rel="preload" href="/assets/js/app.fdc152d6.js" as="script"><link rel="preload" href="/assets/js/6.bb81f45c.js" as="script"><link rel="preload" href="/assets/js/11.6dddf6a5.js" as="script"><link rel="preload" href="/assets/js/3.13060e68.js" as="script"><link rel="prefetch" href="/assets/js/10.cbecf8e9.js"><link rel="prefetch" href="/assets/js/12.a39f30e6.js"><link rel="prefetch" href="/assets/js/13.b24e6803.js"><link rel="prefetch" href="/assets/js/14.5bac63d5.js"><link rel="prefetch" href="/assets/js/15.dab25830.js"><link rel="prefetch" href="/assets/js/16.ebad6f17.js"><link rel="prefetch" href="/assets/js/2.ded2820d.js"><link rel="prefetch" href="/assets/js/4.c322f263.js"><link rel="prefetch" href="/assets/js/5.b6f6a227.js"><link rel="prefetch" href="/assets/js/7.20739dce.js"><link rel="prefetch" href="/assets/js/8.18614d39.js"><link rel="prefetch" href="/assets/js/9.b2575134.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d40c99b9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout" data-v-010979b8><header data-v-010979b8><nav role="navigation" aria-label="main navigation" class="navbar is-fixed-top is-danger" data-v-010979b8><div class="navbar-brand" data-v-010979b8><p class="navbar-item" data-v-010979b8><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAgVBMVEVHcEzJycnJycnIyMjNzc3IyMjJycnKysrIyMjIyMjIyMjKysrMzMyzs7OoqKizs7OqqqqEhITLy8vJycnHx8fOzs6qqqqcnJzS0tKAgIB2dnaxsbGlpaWXl5eSkpLBwcG6urqIiIhra2svLy+Ojo6goKBNTU1ZWVk+Pj5jY2MdHR2UUWLNAAAAEnRSTlMAXCNsGZ1JB8nWp+zV4Mdsp9PVxwrEAAACoElEQVQ4y22Uh3KjQAyGcRzHYDtXtvcCS/P7P+BJC/b4kgjwMOabX2UlNc2LvR0vtysh1+5yfGt+tPOhpYRzruAhhLaH83fmo0NE8SgsU4oTyrqPrzInCoxiYh2GZZkyQ4qd/hN7byuT5vt9WQAbes4BYu37C3PbdJb7/T4McA/3rAgFrHtSZ9QhKk6IgM40TcMQqxRrHx5PlKCQuQ+rzrnXXnq9uA1ipz0vSBihecgCbITHWt1zUiFWczzfSFUiSy+scG50DiAx2x3q0OGBohGelgLQKKUckTISi8DgOQDU0k3JzUEIh5BEKIQ9KNbCedHNuO0DRiRlgLs4oTcIft6aI6aP/qLxzmvILXiz5uD0HhNlx+aCqeHFjAxaG5O9XJdVu7IzlF4aONcaOIn9GAxUUUs5TbqIkT2orrkiUd31o9RmXoMffc7SufhQujYbglSWEr6WAAU32QmXHkqsoWTHODCgNRXvRzNlMVq6K7HqDl8ocUXKMq/G6L5fJx8SfbrrdohBDUIxyzpPgK1r0ZE+A79UAqpBedbFzFOvwbwPme/Hwi7NsQLwSgjEG7TXRkO9XXYE/0eJY/P2KAdLMmudfTBrL4XTjD4+wHi1OyUSHL0JowwZlIqjVQiuFltlY5JMiQSkIJwSehHjXihslXMXWUwJ2lHwZHqweV7nHGjc0qtN13xEpMZoPY95nieYu7nkkFgk8dG+MAiJqOSSlZwlY0AMmgaaS+HAkNNzpCKHqK2NiiU4veJFNlJooRR9jlTz3mFUNlpYFslj++ogrNZc3V5HuCUs2uQUXWeYA5e9sNEF8srUhcGS9SrAsQhwZiGXrwsDc7wxmBEJBTdea0zr2+qpS+wXdSLFBENuYZB+WmJ1Hf7+83kl8fPvl3X4DykZYl52ECR9AAAAAElFTkSuQmCC" data-v-010979b8></p> <a role="button" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample" class="navbar-burger burger" data-v-010979b8><span aria-hidden="true" data-v-010979b8></span> <span aria-hidden="true" data-v-010979b8></span> <span aria-hidden="true" data-v-010979b8></span></a></div> <div id="navbarBasicExample" class="navbar-menu" data-v-010979b8><div class="navbar-start" data-v-010979b8><a href="/" class="navbar-item router-link-active" data-v-010979b8>Blog</a> <a href="/about" class="navbar-item" data-v-010979b8>Ãœber mich</a> <a href="/impressum" class="navbar-item" data-v-010979b8>Impressum</a></div> <div class="navbar-end" data-v-010979b8><p class="navbar-item" data-v-010979b8><button class="button is-black" data-v-010979b8><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="palette" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-palette fa-w-16 fa-lg" data-v-010979b8 data-v-010979b8><path fill="currentColor" d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z" data-v-010979b8 data-v-010979b8></path></svg></button></p> <a href="https://twitter.com/DanielLemper" class="navbar-item" data-v-010979b8><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-twitter fa-w-16 fa-lg" data-v-010979b8 data-v-010979b8><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" data-v-010979b8 data-v-010979b8></path></svg></a> <a href="https://github.com/dlemper" class="navbar-item" data-v-010979b8><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="svg-inline--fa fa-github fa-w-16 fa-lg" data-v-010979b8 data-v-010979b8><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" data-v-010979b8 data-v-010979b8></path></svg></a></div></div></nav></header> <div class="section" data-v-010979b8><div class="container" data-v-010979b8><p>Reading time: 3 min read</p> <div class="content theme-default-content content__default"><h1 id="multiboot-linux-usb-stick"><a href="#multiboot-linux-usb-stick" class="header-anchor">#</a> Multiboot Linux USB-Stick</h1> <p>First, if you want to do it yourself and brick anything using this guide, don't make me responsible: THIS COMES WITH ABSOLUTELY NO WARRANTY!</p> <p>I tested this method with 2 different ubuntu versions and it works like a charm even on Mac Minis with EFI!</p> <p>For this, you have to be root on the system. I've used Debian Wheezy and installed the following packages:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">aptitude</span> <span class="token function">install</span> syslinux p7zip-full dosfstools
</code></pre></div><p>I presume that your usb stick is already available in Linux.</p> <p>So, check which device it is:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">fdisk</span> -l
</code></pre></div><p>Then partition it (mine was /dev/sdb) using fdisk:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">fdisk</span> /dev/sdb
</code></pre></div><p>I've then created a new empty dos partitiontable using 'o' command.
Create new partitions using 'n' command and be sure that they have a size of 800 MB to have enough space for everything.
After creating the partitions you should change the type of each to FAT32 LBA (type c). You can change the type using 't' command, select the partition and then put in 'c' as the type.
The first partition should also have the boot flag enabled, which can be done using 'a' command.</p> <p>After that format each partition with mkfs.vfat, like this (replace the X with the partition number):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>mkfs.vfat /dev/sdbX
</code></pre></div><p>Install syslinux into mbr of the USB drive:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">dd</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">440</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">conv</span><span class="token operator">=</span>notrunc <span class="token assign-left variable">if</span><span class="token operator">=</span>/usr/lib/syslinux/mbr.bin <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sdb
</code></pre></div><p>mount the first partition, the initial boot partition and put a syslinux config there:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mount</span> /dev/sdb1 /mnt
<span class="token builtin class-name">cd</span> /mnt
<span class="token function">cp</span> /usr/lib/syslinux/menu.c32 <span class="token builtin class-name">.</span>
<span class="token function">cat</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>EOF <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>syslinux.cfg
TIMEOUT <span class="token number">600</span>
PROMPT <span class="token number">0</span>
DEFAULT menu.c32
MENU TITLE MultiBoot
ONTIMEOUT first
LABEL first
MENULABEL FirstOS
COM32 chain.c32
APPEND boot <span class="token number">2</span>
LABEL second
MENULABEL SecondOS
COM32 chain.c32
APPEND boot <span class="token number">3</span>
EOF
<span class="token builtin class-name">cd</span> ~
<span class="token function">umount</span> /mnt
</code></pre></div><p>the fowolling has to be done for each iso/partition:</p> <p>install syslinux into partition boot sectors:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>syslinux -i /dev/sdbX
</code></pre></div><p>mount the partition and go there:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mount</span> /dev/sdb2 /mnt
<span class="token builtin class-name">cd</span> /mnt
</code></pre></div><p>put the iso's content onto the mounted partition:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>7z x <span class="token operator">&lt;</span>path to iso<span class="token operator">&gt;</span>
</code></pre></div><p>now convert isolinux to syslinux:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mv</span> isolinux syslinux
<span class="token function">rm</span> syslinux/isolinux.bin
<span class="token function">mv</span> syslinux/isolinux.cfg syslinux/syslinux.cfg
<span class="token function">cp</span> /usr/lib/syslinux/vesamenu.c32 syslinux/
<span class="token function">cp</span> /usr/lib/syslinux/menu.c32 syslinux/
<span class="token function">cp</span> /usr/lib/syslinux/gfxboot.c32 syslinux/
<span class="token function">cp</span> /usr/lib/syslinux/chain.c32 syslinux/
</code></pre></div><p>unmount the partition and prepare the next one or reboot:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">umount</span> /mnt
</code></pre></div><p>Thanks to:</p> <ul><li>People behind syslinux and it's wiki</li> <li>A very good article which I used as base for my own attempts: http://comptb.cects.com/67-multi-boot-usb-with-syslinux-and-grub4dos</li></ul></div></div></div> <footer class="footer" data-v-010979b8><div class="content has-text-centered" data-v-010979b8>
      The website content is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-010979b8>CC BY NC SA 4.0</a>.
    </div></footer></div><div class="global-ui"><!----><!----><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div></div></div>
    <script src="/assets/js/app.fdc152d6.js" defer></script><script src="/assets/js/6.bb81f45c.js" defer></script><script src="/assets/js/11.6dddf6a5.js" defer></script><script src="/assets/js/3.13060e68.js" defer></script>
  </body>
</html>
